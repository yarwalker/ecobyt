(function(b,k,e){b.fn.yith_wccl=function(){var a=this;a.data("last_change");var c=a.find(".variations select");this.clean=function(){a.find(".select_box").remove();return this};this.generateOutput=function(){c.each(function(){var a=b(this),g=b(this).data("type"),d=b("<div />",{"class":"select_box_"+g+" select_box "+a.attr("name")}).insertAfter(a);a.removeData("last_content");a.find("option").each(function(){if(b(this).data("value")){var c="select_option_"+g+" select_option",f=b(this).data("value"),
    e=b(this),c=b("<div/>",{"class":c}).data("value",b(this).attr("value")).data("option",e.clone(!0)).appendTo(d).off("click").on("click",function(c){b(this).hasClass("selected")?a.val("").change():(c.preventDefault(),a.val(e.val()).change())});"colorpicker"==g?c.append(b("<span/>",{css:{background:f}})):"image"==g?c.append(b("<img/>",{src:f})):"label"==g&&c.append(b("<span/>",{text:f}))}})}).filter(function(){return"select"!=b(this).data("type")}).hide();return a};this.onSelect=function(){c.each(function(){var a=
    b(this).val(),c=b(this).siblings(".select_box").find(".select_option").removeClass("selected");a&&c.filter(function(){return b(this).data("value")==a}).addClass("selected")});return a};this.updateOptions=function(){"undefined"==typeof yith_wccl_arg||yith_wccl_arg.is_wc24||a.find(".variations select").each(function(a,c){var d=b(this),e=d.val(),f=d.data("active_options")?d.data("active_options"):d.data("attribute_options");if(!f)return!1;""!=e?b.each(f,function(a,b){d.append(b)}):d.data("active_options",
    d.find("option").get())});return a};return this.updateOptions().clean().generateOutput().onSelect()};jQuery(function(a){var b=a(".variations_form"),h=b.find(".variations select");a(e).on("yith_wccl_change check_variations",b,function(){a(this).yith_wccl()}).trigger("yith_wccl_change");a(e).on("change",h,function(){b.data("last_change",a(this).attr("name"));a(this).data("last_content",a(this).siblings(".select_box").clone(!0))});a(e).on("click",".reset_variations",function(){h.removeData("last_content");
    b.removeData("last_change")});h.trigger("focusin")})})(jQuery,window,document);